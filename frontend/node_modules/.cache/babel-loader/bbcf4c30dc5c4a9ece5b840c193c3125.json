{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ruichunchen/my-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/ruichunchen/my-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/ruichunchen/my-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ruichunchen/my-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/ruichunchen/my-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/ruichunchen/my-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{observer}from'mobx-react';import UserStore from'../stores/UserStore';import LoginForm from'../components/LoginForm';import SignupFrom from'../components/SignupForm';import Loading from'../components/loading';import AccountNav from'../components/AccountNav';var Signup=/*#__PURE__*/function(_Component){_inherits(Signup,_Component);var _super=_createSuper(Signup);function Signup(){_classCallCheck(this,Signup);return _super.apply(this,arguments);}_createClass(Signup,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('/isSignUp',{method:'post',header:{'Accept':'application/json','Content-Type':'application/json'}});case 3:res=_context.sent;_context.next=6;return res.json();case 6:result=_context.sent;if(result&&result.success){UserStore.loading=false;UserStore.isSignup=true;UserStore.username=result.username;UserStore.password=result.password;}else{UserStore.loading=false;UserStore.isSignup=false;}_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);UserStore.loading=false;UserStore.isSignup=false;case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){if(UserStore.loading){return/*#__PURE__*/React.createElement(Loading,null);}else{if(UserStore.isSignup){return/*#__PURE__*/React.createElement(\"div\",{className:\"app\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(LoginForm,null)));}}return/*#__PURE__*/React.createElement(\"div\",{className:\"login\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(AccountNav,null),/*#__PURE__*/React.createElement(SignupFrom,null)));}}]);return Signup;}(Component);export default observer(Signup);","map":{"version":3,"sources":["/Users/ruichunchen/my-react/src/pages/Signup.js"],"names":["React","Component","observer","UserStore","LoginForm","SignupFrom","Loading","AccountNav","Signup","fetch","method","header","res","json","result","success","loading","isSignup","username","password"],"mappings":"y1BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,QAAT,KAAyB,YAAzB,CACA,MAAOC,CAAAA,SAAP,KAAsB,qBAAtB,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,C,GAEMC,CAAAA,M,0fAGsBC,CAAAA,KAAK,CAAC,WAAD,CAAc,CAC/BC,MAAM,CAAE,MADuB,CAE/BC,MAAM,CAAE,CACR,SAAU,kBADF,CAER,eAAgB,kBAFR,CAFuB,CAAd,C,QAAjBC,G,qCAOeA,CAAAA,GAAG,CAACC,IAAJ,E,QAAfC,M,eACJ,GAAGA,MAAM,EAAIA,MAAM,CAACC,OAApB,CAA4B,CACxBZ,SAAS,CAACa,OAAV,CAAoB,KAApB,CACAb,SAAS,CAACc,QAAV,CAAqB,IAArB,CACAd,SAAS,CAACe,QAAV,CAAqBJ,MAAM,CAACI,QAA5B,CACAf,SAAS,CAACgB,QAAV,CAAqBL,MAAM,CAACK,QAA5B,CACH,CALD,IAKK,CACDhB,SAAS,CAACa,OAAV,CAAoB,KAApB,CACAb,SAAS,CAACc,QAAV,CAAqB,KAArB,CACH,C,iFAEDd,SAAS,CAACa,OAAV,CAAoB,KAApB,CACAb,SAAS,CAACc,QAAV,CAAqB,KAArB,C,yNAIC,CACL,GAAGd,SAAS,CAACa,OAAb,CAAqB,CACjB,mBAAO,oBAAC,OAAD,MAAP,CACH,CAFD,IAEK,CACD,GAAGb,SAAS,CAACc,QAAb,CAAsB,CAClB,mBACI,2BAAK,SAAS,CAAC,KAAf,eACI,2BAAK,SAAS,CAAC,WAAf,eACI,oBAAC,SAAD,MADJ,CADJ,CADJ,CAOH,CACJ,CACD,mBACI,2BAAK,SAAS,CAAC,OAAf,eACI,2BAAK,SAAS,CAAC,WAAf,eACI,oBAAC,UAAD,MADJ,cAEI,oBAAC,UAAD,MAFJ,CADJ,CADJ,CAQH,C,oBAhDgBhB,S,EAmDrB,cAAeC,CAAAA,QAAQ,CAACM,MAAD,CAAvB","sourcesContent":["import React, { Component } from 'react';\nimport { observer } from 'mobx-react';\nimport UserStore from '../stores/UserStore';\nimport LoginForm from '../components/LoginForm';\nimport SignupFrom from '../components/SignupForm';\nimport Loading from '../components/loading';\nimport AccountNav from '../components/AccountNav'\n\nclass Signup extends Component {\n    async componentDidMount() {\n        try{\n            let res = await fetch('/isSignUp', {\n                method: 'post',\n                header: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n                }\n            });\n            let result = await res.json();\n            if(result && result.success){\n                UserStore.loading = false;\n                UserStore.isSignup = true;\n                UserStore.username = result.username;\n                UserStore.password = result.password;\n            }else{\n                UserStore.loading = false;\n                UserStore.isSignup = false;\n            }\n        }catch(e){\n            UserStore.loading = false;\n            UserStore.isSignup = false;\n        }\n    }\n   \n    render() {\n        if(UserStore.loading){\n            return <Loading />\n        }else{\n            if(UserStore.isSignup){\n                return (\n                    <div className=\"app\">\n                        <div className=\"container\">\n                            <LoginForm/> \n                        </div>\n                    </div>\n                )\n            }\n        }\n        return (\n            <div className=\"login\">\n                <div className=\"container\">\n                    <AccountNav />\n                    <SignupFrom/>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default observer(Signup);"]},"metadata":{},"sourceType":"module"}