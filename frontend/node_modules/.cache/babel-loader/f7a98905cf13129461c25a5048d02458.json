{"ast":null,"code":"import _objectSpread from\"/Users/ruichunchen/my-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/ruichunchen/my-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ruichunchen/my-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/ruichunchen/my-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/ruichunchen/my-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import items from'./data';var RoomContext=React.createContext();// <RoomContext.Provider value={'hello'}\nvar RoomProvider=/*#__PURE__*/function(_Component){_inherits(RoomProvider,_Component);var _super=_createSuper(RoomProvider);function RoomProvider(){var _this;_classCallCheck(this,RoomProvider);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={houses:[],sortedRooms:[],featuredHouses:[],loading:true};return _this;}_createClass(RoomProvider,[{key:\"componentDidMount\",// getData{}\nvalue:function componentDidMount(){//this.getData\nvar houses=this.formatData(items);//console.log(houses);\nvar featuredHouses=houses.filter(function(house){return house.featured===true;});this.setState({houses:houses,featuredHouses:featuredHouses,sortedRooms:houses,loading:false});}},{key:\"formatData\",value:function formatData(items){var tempItems=items.map(function(item){var id=item.sys.id;var images=item.fields.images.map(function(image){return image.fields.file.url;});var house=_objectSpread(_objectSpread({},item.fields),{},{images:images,id:id});//images : images overwrite\nreturn house;});return tempItems;}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(RoomContext.Provider,{value:_objectSpread({},this.state)},this.props.children);}}]);return RoomProvider;}(Component);var RoomConsumer=RoomContext.Consumer;export{RoomProvider,RoomConsumer,RoomContext};","map":{"version":3,"sources":["/Users/ruichunchen/my-react/src/Context.js"],"names":["React","Component","items","RoomContext","createContext","RoomProvider","state","houses","sortedRooms","featuredHouses","loading","formatData","filter","house","featured","setState","tempItems","map","item","id","sys","images","fields","image","file","url","props","children","RoomConsumer","Consumer"],"mappings":"ysBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,QAAlB,CAEA,GAAMC,CAAAA,WAAW,CAAGH,KAAK,CAACI,aAAN,EAApB,CACA;GACMC,CAAAA,Y,mVACFC,K,CAAM,CACFC,MAAM,CAAC,EADL,CAEFC,WAAW,CAAE,EAFX,CAGFC,cAAc,CAAE,EAHd,CAIFC,OAAO,CAAE,IAJP,C,mEAMN;kCAEmB,CACf;AACA,GAAIH,CAAAA,MAAM,CAAG,KAAKI,UAAL,CAAgBT,KAAhB,CAAb,CACA;AACA,GAAIO,CAAAA,cAAc,CAAGF,MAAM,CAACK,MAAP,CAAc,SAAAC,KAAK,QAAIA,CAAAA,KAAK,CAACC,QAAN,GAAmB,IAAvB,EAAnB,CAArB,CACA,KAAKC,QAAL,CAAc,CACVR,MAAM,CAANA,MADU,CAEVE,cAAc,CAAdA,cAFU,CAGVD,WAAW,CAAED,MAHH,CAIVG,OAAO,CAAE,KAJC,CAAd,EAMH,C,8CAEUR,K,CAAM,CACb,GAAIc,CAAAA,SAAS,CAAGd,KAAK,CAACe,GAAN,CAAU,SAAAC,IAAI,CAAI,CAC9B,GAAIC,CAAAA,EAAE,CAAGD,IAAI,CAACE,GAAL,CAASD,EAAlB,CACA,GAAIE,CAAAA,MAAM,CAAGH,IAAI,CAACI,MAAL,CAAYD,MAAZ,CAAmBJ,GAAnB,CAAuB,SAAAM,KAAK,QAAIA,CAAAA,KAAK,CAACD,MAAN,CAAaE,IAAb,CAAkBC,GAAtB,EAA5B,CAAb,CACA,GAAIZ,CAAAA,KAAK,gCAAOK,IAAI,CAACI,MAAZ,MAAoBD,MAAM,CAANA,MAApB,CAA4BF,EAAE,CAAFA,EAA5B,EAAT,CAA0C;AAC1C,MAAON,CAAAA,KAAP,CACH,CALe,CAAhB,CAMA,MAAOG,CAAAA,SAAP,CACH,C,uCAEQ,CACL,mBACI,oBAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,kBAAM,KAAKV,KAAX,CAA3B,EACK,KAAKoB,KAAL,CAAWC,QADhB,CADJ,CAKH,C,0BAtCsB1B,S,EAyC3B,GAAM2B,CAAAA,YAAY,CAAGzB,WAAW,CAAC0B,QAAjC,CAEA,OAAOxB,YAAP,CAAqBuB,YAArB,CAAmCzB,WAAnC","sourcesContent":["import React, { Component } from 'react'\nimport items from './data';\n\nconst RoomContext = React.createContext();\n// <RoomContext.Provider value={'hello'}\nclass RoomProvider extends Component {\n    state={\n        houses:[],\n        sortedRooms: [],\n        featuredHouses: [],\n        loading: true\n    }\n    // getData{}\n\n    componentDidMount(){\n        //this.getData\n        let houses = this.formatData(items);\n        //console.log(houses);\n        let featuredHouses = houses.filter(house => house.featured === true);\n        this.setState({\n            houses, \n            featuredHouses, \n            sortedRooms: houses, \n            loading: false\n        });\n    }\n\n    formatData(items){\n        let tempItems = items.map(item => {\n            let id = item.sys.id;\n            let images = item.fields.images.map(image => image.fields.file.url);\n            let house = {...item.fields, images, id}; //images : images overwrite\n            return house;\n        });\n        return tempItems;\n    }\n\n    render() {\n        return (\n            <RoomContext.Provider value={{...this.state}}>\n                {this.props.children}\n            </RoomContext.Provider>\n        )\n    }\n}\n\nconst RoomConsumer = RoomContext.Consumer;\n\nexport{RoomProvider, RoomConsumer, RoomContext}"]},"metadata":{},"sourceType":"module"}